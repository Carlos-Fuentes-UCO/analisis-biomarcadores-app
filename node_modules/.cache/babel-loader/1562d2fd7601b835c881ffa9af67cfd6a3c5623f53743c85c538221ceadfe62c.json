{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Carlos-PC\\\\Desktop\\\\TRABAJO\\\\Analisis_Python\\\\AMYLOIDOSIS_TEST_DDA_IBiS_PEAKS_IBIS_DDA_1\\\\analisis-biomarcadores\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\n\n/**\r\n * @typedef {object} ProteinData - Formato de Datos Unificado (FDU) para una proteína.\r\n * @property {string} accession - ID de acceso principal de la proteína (ej: \"P12345\").\r\n * @property {string} description - Descripción completa de la proteína (ej: \"Vimentin OS=Homo sapiens...\").\r\n * @property {string} proteinGroup - El ID del grupo de proteínas al que pertenece.\r\n * @property {number} area - El valor de área de la proteína para la muestra cargada.\r\n * @property {number} totalPeptides - Número total de péptidos identificados para esta proteína.\r\n * @property {number} uniquePeptidesCount - Número de péptidos únicos.\r\n * @property {string[]} uniquePeptides - Lista de secuencias de péptidos únicos.\r\n * @property {string} sampleName - El nombre de la muestra de donde proviene la proteína.\r\n * @property {string} diseaseAssociation - Asociación de enfermedad extraída de la descripción.\r\n */\n\n// Main application component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // State to manage multiple file input sets\n  const [sampleInputs, setSampleInputs] = useState([{\n    id: 1,\n    name: '',\n    sourceSoftware: 'Peaks Studio',\n    files: {\n      peptides: null,\n      proteins: null\n    }\n  }]);\n  const [processedData, setProcessedData] = useState(/** @type {ProteinData[]} */[]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [minArea, setMinArea] = useState(0);\n  const [minPeptides, setMinPeptides] = useState(0);\n  const [minUniquePeptides, setMinUniquePeptides] = useState(0);\n  const [canonicalIds, setCanonicalIds] = useState('');\n  const [filterPathogenic, setFilterPathogenic] = useState(false);\n  const [copyMessage, setCopyMessage] = useState(null);\n  const [expandedRow, setExpandedRow] = useState(/** @type {number|null} */null);\n  const [idFile, setIdFile] = useState(/** @type {File|null} */null);\n\n  // References for drag-and-drop\n  const dragCounter = useRef(0);\n\n  // Regex para variantes patogénicas (incluye etiquetas y cambios de aminoácido tipo A123T)\n  const pathogenicPattern = /PATHOGENIC_VARIANT|(-VAR_)|(-[A-Z]\\d+[A-Z])/;\n\n  // Helper to parse TSV/CSV data (asume TAB por defecto)\n  const parseCSV = text => {\n    const lines = text.trim().split(/\\r?\\n/);\n    if (lines.length === 0) return [];\n    const headers = lines[0].split('\\t').map(h => h.trim());\n    return lines.slice(1).map(line => {\n      const values = line.split('\\t');\n      return headers.reduce((acc, header, i) => {\n        acc[header] = values[i];\n        return acc;\n      }, {});\n    });\n  };\n\n  // Function to extract disease association desde la descripción (si existe)\n  const extractDiseaseAssociation = description => {\n    if (!description) return 'N/A';\n    const associationMatch = description.match(/Association:([^|]+)/);\n    if (associationMatch && associationMatch[1]) return associationMatch[1].trim();\n    const clinicalMatch = description.match(/ClinicalSignificance:([^|]+)/);\n    if (clinicalMatch && clinicalMatch[1]) return clinicalMatch[1].trim();\n    return 'N/A';\n  };\n\n  // Function to process and unify data from multiple files\n  const processData = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    /** @type {ProteinData[]} */\n    let allProcessedEntries = [];\n\n    // Map to store unique peptides for each protein accession\n    const uniquePeptidesMap = new Map();\n    for (const sample of sampleInputs) {\n      // 1) Cargar péptidos únicos por Accession\n      if (sample.files.peptides) {\n        try {\n          const peptidesContent = await sample.files.peptides.text();\n          const peptidesData = parseCSV(peptidesContent);\n          peptidesData.forEach(peptide => {\n            const accession = peptide['Protein Accession'] || peptide['Protein ID'] || '';\n            const uniqueFlag = String(peptide['Unique'] || '').trim();\n            const isUnique = /^(y|yes|true|1)$/i.test(uniqueFlag) || uniqueFlag === 'Y';\n            const peptideSequence = peptide['Peptide'] || '';\n            if (isUnique && accession && peptideSequence) {\n              if (!uniquePeptidesMap.has(accession)) uniquePeptidesMap.set(accession, new Set());\n              uniquePeptidesMap.get(accession).add(peptideSequence);\n            }\n          });\n        } catch (err) {\n          console.error('Error al procesar el archivo de péptidos:', err);\n        }\n      }\n\n      // 2) Cargar proteínas\n      if (sample.files.proteins) {\n        try {\n          const proteinsContent = await sample.files.proteins.text();\n          const proteinData = parseCSV(proteinsContent);\n          proteinData.forEach(protein => {\n            var _protein$areaKey;\n            const accession = protein['Accession'] || protein['Protein Accession'] || '';\n            const description = protein['Description'] || '';\n            const proteinGroup = protein['Protein Group'] || '';\n            const areaKey = Object.keys(protein).find(key => key.toLowerCase().includes('area'));\n            const areaRaw = areaKey ? String((_protein$areaKey = protein[areaKey]) !== null && _protein$areaKey !== void 0 ? _protein$areaKey : '0') : '0';\n            const area = parseFloat(areaRaw.replace(/,/g, '')) || 0;\n            const totalPeptides = parseInt(protein['#Peptides'], 10) || 0;\n            const uniquePeptidesCount = parseInt(protein['#Unique'], 10) || 0;\n            const uniquePeptides = Array.from(uniquePeptidesMap.get(accession) || []);\n            const diseaseAssociation = extractDiseaseAssociation(description);\n            allProcessedEntries.push({\n              accession,\n              description,\n              proteinGroup,\n              area,\n              totalPeptides,\n              uniquePeptidesCount,\n              uniquePeptides,\n              sampleName: sample.name || `Muestra ${sample.id}`,\n              diseaseAssociation\n            });\n          });\n        } catch (err) {\n          console.error(err);\n          setError('Error al procesar el archivo de proteínas. Asegúrate de que el formato sea correcto.');\n          setLoading(false);\n          return;\n        }\n      }\n    }\n\n    // 3) Aplicar filtros\n    let filteredData = allProcessedEntries;\n    if (filterPathogenic) {\n      filteredData = filteredData.filter(protein => pathogenicPattern.test(protein.accession) || pathogenicPattern.test(protein.description));\n    }\n    if (minArea > 0) filteredData = filteredData.filter(d => d.area >= minArea);\n    if (minPeptides > 0) filteredData = filteredData.filter(d => d.totalPeptides >= minPeptides);\n    if (minUniquePeptides > 0) filteredData = filteredData.filter(d => d.uniquePeptidesCount >= minUniquePeptides);\n    if (canonicalIds) {\n      const idList = canonicalIds.split(',').map(id => id.trim().toLowerCase()).filter(id => id !== '');\n      if (idList.length) {\n        filteredData = filteredData.filter(d => idList.some(id => d.accession.toLowerCase().includes(id) || d.proteinGroup.toLowerCase().includes(id)));\n      }\n    }\n    setProcessedData(filteredData);\n    setLoading(false);\n  }, [sampleInputs, minArea, minPeptides, minUniquePeptides, canonicalIds, filterPathogenic]);\n  useEffect(() => {\n    processData();\n  }, [processData]);\n\n  // Dev-only self-checks (\"test cases\") para utilidades clave\n  useEffect(() => {\n    if (process.env.NODE_ENV !== 'development') return;\n    try {\n      console.group('App self-checks');\n      const parsed = parseCSV('A\\tB\\n1\\t2');\n      console.assert(Array.isArray(parsed) && parsed.length === 1 && parsed[0].A === '1' && parsed[0].B === '2', 'parseCSV fallo básico');\n      console.assert(pathogenicPattern.test('P12345-VAR_1'), 'pattern VAR_ no detectado');\n      console.assert(pathogenicPattern.test('Desc A123T cambio AA'), 'pattern A123T no detectado');\n      console.assert(pathogenicPattern.test('... PATHOGENIC_VARIANT ...'), 'pattern PATHOGENIC_VARIANT no detectado');\n      console.groupEnd();\n    } catch (e) {\n      console.warn('Self-checks error:', e);\n    }\n  }, []);\n\n  // Handlers for file input changes\n  const handleFileChange = (e, id, type) => {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n    setSampleInputs(prevInputs => prevInputs.map(input => input.id === id ? {\n      ...input,\n      files: {\n        ...input.files,\n        [type]: file\n      }\n    } : input));\n  };\n  const handleNameChange = (e, id) => {\n    const name = e.target.value;\n    setSampleInputs(prevInputs => prevInputs.map(input => input.id === id ? {\n      ...input,\n      name\n    } : input));\n  };\n  const handleIdFileChange = e => {\n    const f = e.target.files && e.target.files[0];\n    if (f) setIdFile(f);\n  };\n  const handleLoadIdsFromFile = async () => {\n    if (!idFile) {\n      setError('Por favor, selecciona un archivo de IDs primero.');\n      return;\n    }\n    try {\n      setLoading(true);\n      const fileContent = await idFile.text();\n      const regex = /\\|([^|]+)\\|/g; // extrae entre barras verticales |ID|\n      const matches = [...fileContent.matchAll(regex)];\n      const ids = matches.map(match => match[1]).join(', ');\n      setCanonicalIds(ids);\n      setLoading(false);\n      setError('');\n    } catch (err) {\n      setError('Error al leer el archivo de IDs. Asegúrate de que el formato sea correcto.');\n      setLoading(false);\n    }\n  };\n  const addSampleInput = () => {\n    const newId = sampleInputs.length ? Math.max(...sampleInputs.map(s => s.id)) + 1 : 1;\n    setSampleInputs(prevInputs => [...prevInputs, {\n      id: newId,\n      name: '',\n      sourceSoftware: 'Peaks Studio',\n      files: {\n        peptides: null,\n        proteins: null\n      }\n    }]);\n  };\n  const removeSampleInput = id => {\n    setSampleInputs(prevInputs => prevInputs.filter(input => input.id !== id));\n  };\n  const handleDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current++;\n  };\n  const handleDragLeave = e => {\n    e.stopPropagation();\n    dragCounter.current--;\n  };\n  const handleDrop = (e, id) => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current = 0;\n    const files = Array.from(e.dataTransfer.files || []);\n    if (files.length > 0) {\n      const peptidesFile = files.find(file => file.name.toLowerCase().includes('peptides'));\n      const proteinsFile = files.find(file => file.name.toLowerCase().includes('proteins'));\n      setSampleInputs(prevInputs => prevInputs.map(input => input.id === id ? {\n        ...input,\n        files: {\n          peptides: peptidesFile || input.files.peptides,\n          proteins: proteinsFile || input.files.proteins\n        }\n      } : input));\n    }\n  };\n  const handleCopyTable = () => {\n    const table = document.getElementById('protein-table');\n    if (table) {\n      let text = '';\n      const rows = table.querySelectorAll('tr');\n      rows.forEach(row => {\n        const cells = row.querySelectorAll('th, td');\n        cells.forEach((cell, index) => {\n          text += cell.innerText + (index < cells.length - 1 ? '\\t' : '');\n        });\n        text += '\\n';\n      });\n      const textarea = document.createElement('textarea');\n      textarea.value = text;\n      document.body.appendChild(textarea);\n      textarea.select();\n      try {\n        document.execCommand('copy');\n        setCopyMessage({\n          message: '¡Tabla copiada al portapapeles!',\n          isError: false\n        });\n      } catch (err) {\n        setCopyMessage({\n          message: 'Error al copiar la tabla.',\n          isError: true\n        });\n      }\n      document.body.removeChild(textarea);\n      setTimeout(() => setCopyMessage(null), 3000);\n    }\n  };\n  const toggleExpand = index => {\n    setExpandedRow(expandedRow === index ? null : index);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 dark:bg-gray-900 p-8 flex flex-col items-center font-sans text-gray-800 dark:text-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        body { font-family: 'Inter', sans-serif; }\n        tr.expanded-row td { background-color: #f3f4f6; border-top: 1px solid #e5e7eb; border-bottom: 1px solid #e5e7eb; }\n        .dark tr.expanded-row td { background-color: #1f2937; border-top: 1px solid #374151; border-bottom: 1px solid #374151; }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-6xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 transition-colors duration-300\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-extrabold text-center text-indigo-600 dark:text-indigo-400 mb-2\",\n        children: \"An\\xE1lisis de Datos Prote\\xF3micos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-base mb-8 text-gray-600 dark:text-gray-400\",\n        children: \"Carga tus archivos de p\\xE9ptidos y prote\\xEDnas para un an\\xE1lisis unificado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n            children: \"\\xC1rea m\\xEDnima\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: minArea,\n            onChange: e => setMinArea(Number(e.target.value)),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\",\n            placeholder: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n            children: \"# P\\xE9ptidos m\\xEDnimo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: minPeptides,\n            onChange: e => setMinPeptides(Number(e.target.value)),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\",\n            placeholder: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n            children: \"# \\xDAnicos m\\xEDnimo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: minUniquePeptides,\n            onChange: e => setMinUniquePeptides(Number(e.target.value)),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\",\n            placeholder: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2 lg:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n            children: \"IDs can\\xF3nicos (separados por coma)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: canonicalIds,\n            onChange: e => setCanonicalIds(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\",\n            placeholder: \"P01234, Q9XXXX, ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"pathogenic\",\n            type: \"checkbox\",\n            checked: filterPathogenic,\n            onChange: e => setFilterPathogenic(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"pathogenic\",\n            className: \"text-sm text-gray-700 dark:text-gray-300\",\n            children: \"Filtrar variantes patog\\xE9nicas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: handleIdFileChange,\n            className: \"text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLoadIdsFromFile,\n            className: \"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\",\n            children: \"Cargar IDs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addSampleInput,\n            className: \"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700\",\n            children: \"A\\xF1adir muestra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCopyTable,\n            className: \"px-3 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-800\",\n            children: \"Copiar tabla\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6 mb-8\",\n        children: sampleInputs.map(sample => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 dark:bg-gray-700 p-6 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col md:flex-row items-start md:items-center justify-between transition-colors duration-300\",\n          onDragEnter: handleDragEnter,\n          onDragLeave: handleDragLeave,\n          onDragOver: e => e.preventDefault(),\n          onDrop: e => handleDrop(e, sample.id),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 w-full md:pr-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold text-gray-700 dark:text-gray-300\",\n                children: [\"Muestra \", sample.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500 dark:text-gray-400 mt-1\",\n                children: \"Arrastra y suelta tus archivos aqu\\xED, o haz clic para seleccionarlos.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: `sample-name-${sample.id}`,\n                className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n                children: \"Nombre de la Muestra:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: `sample-name-${sample.id}`,\n                type: \"text\",\n                value: sample.name,\n                onChange: e => handleNameChange(e, sample.id),\n                className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\",\n                placeholder: `Muestra ${sample.id}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: \"Archivo de P\\xE9ptidos:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: \"mt-1 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100\",\n                  onChange: e => handleFileChange(e, sample.id, 'peptides')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 21\n                }, this), sample.files.peptides && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-green-500 mt-1\",\n                  children: [\"Cargado: \", sample.files.peptides.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: \"Archivo de Prote\\xEDnas:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: \"mt-1 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100\",\n                  onChange: e => handleFileChange(e, sample.id, 'proteins')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this), sample.files.proteins && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-green-500 mt-1\",\n                  children: [\"Cargado: \", sample.files.proteins.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), sampleInputs.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeSampleInput(sample.id),\n            className: \"mt-4 md:mt-0 md:ml-4 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200\",\n            \"aria-label\": `Eliminar muestra ${sample.id}`,\n            title: `Eliminar muestra ${sample.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 20 20\",\n              fill: \"none\",\n              className: \"h-5 w-5\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M6 6l8 8M14 6l-8 8\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }, this)]\n        }, sample.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 rounded-md bg-red-100 text-red-800 border border-red-300\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 rounded-md bg-yellow-100 text-yellow-800 border border-yellow-300\",\n        children: \"Procesando\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 11\n      }, this), copyMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-4 p-3 rounded-md border ${copyMessage.isError ? 'bg-red-100 text-red-800 border-red-300' : 'bg-green-100 text-green-800 border-green-300'}`,\n        children: copyMessage.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"protein-table\",\n          className: \"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50 dark:bg-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\",\n                children: \"Accession\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\",\n                children: \"Descripci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\",\n                children: \"Grupo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-right text-xs font-medium uppercase tracking-wider\",\n                children: \"\\xC1rea\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-right text-xs font-medium uppercase tracking-wider\",\n                children: \"# P\\xE9ptidos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-right text-xs font-medium uppercase tracking-wider\",\n                children: \"# \\xDAnicos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\",\n                children: \"Muestra\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\",\n                children: \"Asociaci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-center text-xs font-medium uppercase tracking-wider\",\n                children: \"P\\xE9ptidos \\xFAnicos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",\n            children: processedData.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 9,\n                className: \"px-4 py-6 text-center text-gray-500 dark:text-gray-400\",\n                children: \"No hay datos para mostrar. Carga archivos y ajusta filtros.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this) : processedData.map((row, idx) => /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer\",\n                onClick: () => toggleExpand(idx),\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 font-mono text-sm\",\n                  children: row.accession\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2\",\n                  children: row.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2\",\n                  children: row.proteinGroup\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-right\",\n                  children: row.area.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-right\",\n                  children: row.totalPeptides\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-right\",\n                  children: row.uniquePeptidesCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2\",\n                  children: row.sampleName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2\",\n                  children: row.diseaseAssociation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"px-2 py-1 text-xs rounded bg-indigo-600 text-white hover:bg-indigo-700\",\n                    children: expandedRow === idx ? 'Ocultar' : 'Ver'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 23\n                }, this)]\n              }, `row-${idx}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 21\n              }, this), expandedRow === idx && /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"expanded-row\",\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: 9,\n                  className: \"px-6 py-4\",\n                  children: row.uniquePeptides && row.uniquePeptides.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\",\n                    children: row.uniquePeptides.map((pep, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-mono bg-gray-100 dark:bg-gray-900 rounded px-2 py-1 border border-gray-200 dark:border-gray-700\",\n                      children: pep\n                    }, `pep-${i}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 33\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Sin p\\xE9ptidos \\xFAnicos asociados.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 25\n                }, this)\n              }, `row-details-${idx}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"pipxcbNqkRNUfNe+fU3mvkAae10=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","sampleInputs","setSampleInputs","id","name","sourceSoftware","files","peptides","proteins","processedData","setProcessedData","error","setError","loading","setLoading","minArea","setMinArea","minPeptides","setMinPeptides","minUniquePeptides","setMinUniquePeptides","canonicalIds","setCanonicalIds","filterPathogenic","setFilterPathogenic","copyMessage","setCopyMessage","expandedRow","setExpandedRow","idFile","setIdFile","dragCounter","pathogenicPattern","parseCSV","text","lines","trim","split","length","headers","map","h","slice","line","values","reduce","acc","header","i","extractDiseaseAssociation","description","associationMatch","match","clinicalMatch","processData","allProcessedEntries","uniquePeptidesMap","Map","sample","peptidesContent","peptidesData","forEach","peptide","accession","uniqueFlag","String","isUnique","test","peptideSequence","has","set","Set","get","add","err","console","proteinsContent","proteinData","protein","_protein$areaKey","proteinGroup","areaKey","Object","keys","find","key","toLowerCase","includes","areaRaw","area","parseFloat","replace","totalPeptides","parseInt","uniquePeptidesCount","uniquePeptides","Array","from","diseaseAssociation","push","sampleName","filteredData","filter","d","idList","some","process","env","NODE_ENV","group","parsed","assert","isArray","A","B","groupEnd","e","warn","handleFileChange","type","file","target","prevInputs","input","handleNameChange","value","handleIdFileChange","f","handleLoadIdsFromFile","fileContent","regex","matches","matchAll","ids","join","addSampleInput","newId","Math","max","s","removeSampleInput","handleDragEnter","preventDefault","stopPropagation","current","handleDragLeave","handleDrop","dataTransfer","peptidesFile","proteinsFile","handleCopyTable","table","document","getElementById","rows","querySelectorAll","row","cells","cell","index","innerText","textarea","createElement","body","appendChild","select","execCommand","message","isError","removeChild","setTimeout","toggleExpand","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","Number","placeholder","checked","htmlFor","onClick","onDragEnter","onDragLeave","onDragOver","onDrop","title","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","colSpan","idx","toLocaleString","pep","_c","$RefreshReg$"],"sources":["C:/Users/Carlos-PC/Desktop/TRABAJO/Analisis_Python/AMYLOIDOSIS_TEST_DDA_IBiS_PEAKS_IBIS_DDA_1/analisis-biomarcadores/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\n\r\n/**\r\n * @typedef {object} ProteinData - Formato de Datos Unificado (FDU) para una proteína.\r\n * @property {string} accession - ID de acceso principal de la proteína (ej: \"P12345\").\r\n * @property {string} description - Descripción completa de la proteína (ej: \"Vimentin OS=Homo sapiens...\").\r\n * @property {string} proteinGroup - El ID del grupo de proteínas al que pertenece.\r\n * @property {number} area - El valor de área de la proteína para la muestra cargada.\r\n * @property {number} totalPeptides - Número total de péptidos identificados para esta proteína.\r\n * @property {number} uniquePeptidesCount - Número de péptidos únicos.\r\n * @property {string[]} uniquePeptides - Lista de secuencias de péptidos únicos.\r\n * @property {string} sampleName - El nombre de la muestra de donde proviene la proteína.\r\n * @property {string} diseaseAssociation - Asociación de enfermedad extraída de la descripción.\r\n */\r\n\r\n// Main application component\r\nconst App = () => {\r\n  // State to manage multiple file input sets\r\n  const [sampleInputs, setSampleInputs] = useState([\r\n    { id: 1, name: '', sourceSoftware: 'Peaks Studio', files: { peptides: null, proteins: null } }\r\n  ]);\r\n  const [processedData, setProcessedData] = useState(/** @type {ProteinData[]} */([]));\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [minArea, setMinArea] = useState(0);\r\n  const [minPeptides, setMinPeptides] = useState(0);\r\n  const [minUniquePeptides, setMinUniquePeptides] = useState(0);\r\n  const [canonicalIds, setCanonicalIds] = useState('');\r\n  const [filterPathogenic, setFilterPathogenic] = useState(false);\r\n  const [copyMessage, setCopyMessage] = useState(null);\r\n  const [expandedRow, setExpandedRow] = useState(/** @type {number|null} */(null));\r\n  const [idFile, setIdFile] = useState(/** @type {File|null} */(null));\r\n\r\n  // References for drag-and-drop\r\n  const dragCounter = useRef(0);\r\n\r\n  // Regex para variantes patogénicas (incluye etiquetas y cambios de aminoácido tipo A123T)\r\n  const pathogenicPattern = /PATHOGENIC_VARIANT|(-VAR_)|(-[A-Z]\\d+[A-Z])/;\r\n\r\n  // Helper to parse TSV/CSV data (asume TAB por defecto)\r\n  const parseCSV = (text) => {\r\n    const lines = text.trim().split(/\\r?\\n/);\r\n    if (lines.length === 0) return [];\r\n    const headers = lines[0].split('\\t').map((h) => h.trim());\r\n    return lines.slice(1).map((line) => {\r\n      const values = line.split('\\t');\r\n      return headers.reduce((acc, header, i) => {\r\n        acc[header] = values[i];\r\n        return acc;\r\n      }, {});\r\n    });\r\n  };\r\n\r\n  // Function to extract disease association desde la descripción (si existe)\r\n  const extractDiseaseAssociation = (description) => {\r\n    if (!description) return 'N/A';\r\n    const associationMatch = description.match(/Association:([^|]+)/);\r\n    if (associationMatch && associationMatch[1]) return associationMatch[1].trim();\r\n    const clinicalMatch = description.match(/ClinicalSignificance:([^|]+)/);\r\n    if (clinicalMatch && clinicalMatch[1]) return clinicalMatch[1].trim();\r\n    return 'N/A';\r\n  };\r\n\r\n  // Function to process and unify data from multiple files\r\n  const processData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    /** @type {ProteinData[]} */\r\n    let allProcessedEntries = [];\r\n\r\n    // Map to store unique peptides for each protein accession\r\n    const uniquePeptidesMap = new Map();\r\n\r\n    for (const sample of sampleInputs) {\r\n      // 1) Cargar péptidos únicos por Accession\r\n      if (sample.files.peptides) {\r\n        try {\r\n          const peptidesContent = await sample.files.peptides.text();\r\n          const peptidesData = parseCSV(peptidesContent);\r\n          peptidesData.forEach((peptide) => {\r\n            const accession = peptide['Protein Accession'] || peptide['Protein ID'] || '';\r\n            const uniqueFlag = String(peptide['Unique'] || '').trim();\r\n            const isUnique = /^(y|yes|true|1)$/i.test(uniqueFlag) || uniqueFlag === 'Y';\r\n            const peptideSequence = peptide['Peptide'] || '';\r\n            if (isUnique && accession && peptideSequence) {\r\n              if (!uniquePeptidesMap.has(accession)) uniquePeptidesMap.set(accession, new Set());\r\n              uniquePeptidesMap.get(accession).add(peptideSequence);\r\n            }\r\n          });\r\n        } catch (err) {\r\n          console.error('Error al procesar el archivo de péptidos:', err);\r\n        }\r\n      }\r\n\r\n      // 2) Cargar proteínas\r\n      if (sample.files.proteins) {\r\n        try {\r\n          const proteinsContent = await sample.files.proteins.text();\r\n          const proteinData = parseCSV(proteinsContent);\r\n\r\n          proteinData.forEach((protein) => {\r\n            const accession = protein['Accession'] || protein['Protein Accession'] || '';\r\n            const description = protein['Description'] || '';\r\n            const proteinGroup = protein['Protein Group'] || '';\r\n            const areaKey = Object.keys(protein).find((key) => key.toLowerCase().includes('area'));\r\n            const areaRaw = areaKey ? String(protein[areaKey] ?? '0') : '0';\r\n            const area = parseFloat(areaRaw.replace(/,/g, '')) || 0;\r\n            const totalPeptides = parseInt(protein['#Peptides'], 10) || 0;\r\n            const uniquePeptidesCount = parseInt(protein['#Unique'], 10) || 0;\r\n            const uniquePeptides = Array.from(uniquePeptidesMap.get(accession) || []);\r\n            const diseaseAssociation = extractDiseaseAssociation(description);\r\n\r\n            allProcessedEntries.push({\r\n              accession,\r\n              description,\r\n              proteinGroup,\r\n              area,\r\n              totalPeptides,\r\n              uniquePeptidesCount,\r\n              uniquePeptides,\r\n              sampleName: sample.name || `Muestra ${sample.id}`,\r\n              diseaseAssociation,\r\n            });\r\n          });\r\n        } catch (err) {\r\n          console.error(err);\r\n          setError('Error al procesar el archivo de proteínas. Asegúrate de que el formato sea correcto.');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    // 3) Aplicar filtros\r\n    let filteredData = allProcessedEntries;\r\n\r\n    if (filterPathogenic) {\r\n      filteredData = filteredData.filter(\r\n        (protein) => pathogenicPattern.test(protein.accession) || pathogenicPattern.test(protein.description)\r\n      );\r\n    }\r\n\r\n    if (minArea > 0) filteredData = filteredData.filter((d) => d.area >= minArea);\r\n    if (minPeptides > 0) filteredData = filteredData.filter((d) => d.totalPeptides >= minPeptides);\r\n    if (minUniquePeptides > 0) filteredData = filteredData.filter((d) => d.uniquePeptidesCount >= minUniquePeptides);\r\n\r\n    if (canonicalIds) {\r\n      const idList = canonicalIds\r\n        .split(',')\r\n        .map((id) => id.trim().toLowerCase())\r\n        .filter((id) => id !== '');\r\n      if (idList.length) {\r\n        filteredData = filteredData.filter((d) =>\r\n          idList.some((id) => d.accession.toLowerCase().includes(id) || d.proteinGroup.toLowerCase().includes(id))\r\n        );\r\n      }\r\n    }\r\n\r\n    setProcessedData(filteredData);\r\n    setLoading(false);\r\n  }, [sampleInputs, minArea, minPeptides, minUniquePeptides, canonicalIds, filterPathogenic]);\r\n\r\n  useEffect(() => {\r\n    processData();\r\n  }, [processData]);\r\n\r\n  // Dev-only self-checks (\"test cases\") para utilidades clave\r\n  useEffect(() => {\r\n    if (process.env.NODE_ENV !== 'development') return;\r\n    try {\r\n      console.group('App self-checks');\r\n      const parsed = parseCSV('A\\tB\\n1\\t2');\r\n      console.assert(Array.isArray(parsed) && parsed.length === 1 && parsed[0].A === '1' && parsed[0].B === '2', 'parseCSV fallo básico');\r\n      console.assert(pathogenicPattern.test('P12345-VAR_1'), 'pattern VAR_ no detectado');\r\n      console.assert(pathogenicPattern.test('Desc A123T cambio AA'), 'pattern A123T no detectado');\r\n      console.assert(pathogenicPattern.test('... PATHOGENIC_VARIANT ...'), 'pattern PATHOGENIC_VARIANT no detectado');\r\n      console.groupEnd();\r\n    } catch (e) {\r\n      console.warn('Self-checks error:', e);\r\n    }\r\n  }, []);\r\n\r\n  // Handlers for file input changes\r\n  const handleFileChange = (e, id, type) => {\r\n    const file = e.target.files && e.target.files[0];\r\n    if (!file) return;\r\n    setSampleInputs((prevInputs) =>\r\n      prevInputs.map((input) => (input.id === id ? { ...input, files: { ...input.files, [type]: file } } : input))\r\n    );\r\n  };\r\n\r\n  const handleNameChange = (e, id) => {\r\n    const name = e.target.value;\r\n    setSampleInputs((prevInputs) => prevInputs.map((input) => (input.id === id ? { ...input, name } : input)));\r\n  };\r\n\r\n  const handleIdFileChange = (e) => {\r\n    const f = e.target.files && e.target.files[0];\r\n    if (f) setIdFile(f);\r\n  };\r\n\r\n  const handleLoadIdsFromFile = async () => {\r\n    if (!idFile) {\r\n      setError('Por favor, selecciona un archivo de IDs primero.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const fileContent = await idFile.text();\r\n      const regex = /\\|([^|]+)\\|/g; // extrae entre barras verticales |ID|\r\n      const matches = [...fileContent.matchAll(regex)];\r\n      const ids = matches.map((match) => match[1]).join(', ');\r\n      setCanonicalIds(ids);\r\n      setLoading(false);\r\n      setError('');\r\n    } catch (err) {\r\n      setError('Error al leer el archivo de IDs. Asegúrate de que el formato sea correcto.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addSampleInput = () => {\r\n    const newId = sampleInputs.length ? Math.max(...sampleInputs.map((s) => s.id)) + 1 : 1;\r\n    setSampleInputs((prevInputs) => [\r\n      ...prevInputs,\r\n      { id: newId, name: '', sourceSoftware: 'Peaks Studio', files: { peptides: null, proteins: null } }\r\n    ]);\r\n  };\r\n\r\n  const removeSampleInput = (id) => {\r\n    setSampleInputs((prevInputs) => prevInputs.filter((input) => input.id !== id));\r\n  };\r\n\r\n  const handleDragEnter = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    dragCounter.current++;\r\n  };\r\n\r\n  const handleDragLeave = (e) => {\r\n    e.stopPropagation();\r\n    dragCounter.current--;\r\n  };\r\n\r\n  const handleDrop = (e, id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    dragCounter.current = 0;\r\n\r\n    const files = Array.from(e.dataTransfer.files || []);\r\n\r\n    if (files.length > 0) {\r\n      const peptidesFile = files.find((file) => file.name.toLowerCase().includes('peptides'));\r\n      const proteinsFile = files.find((file) => file.name.toLowerCase().includes('proteins'));\r\n\r\n      setSampleInputs((prevInputs) =>\r\n        prevInputs.map((input) =>\r\n          input.id === id\r\n            ? {\r\n                ...input,\r\n                files: {\r\n                  peptides: peptidesFile || input.files.peptides,\r\n                  proteins: proteinsFile || input.files.proteins,\r\n                },\r\n              }\r\n            : input\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleCopyTable = () => {\r\n    const table = document.getElementById('protein-table');\r\n    if (table) {\r\n      let text = '';\r\n      const rows = table.querySelectorAll('tr');\r\n      rows.forEach((row) => {\r\n        const cells = row.querySelectorAll('th, td');\r\n        cells.forEach((cell, index) => {\r\n          text += cell.innerText + (index < cells.length - 1 ? '\\t' : '');\r\n        });\r\n        text += '\\n';\r\n      });\r\n\r\n      const textarea = document.createElement('textarea');\r\n      textarea.value = text;\r\n      document.body.appendChild(textarea);\r\n      textarea.select();\r\n      try {\r\n        document.execCommand('copy');\r\n        setCopyMessage({ message: '¡Tabla copiada al portapapeles!', isError: false });\r\n      } catch (err) {\r\n        setCopyMessage({ message: 'Error al copiar la tabla.', isError: true });\r\n      }\r\n      document.body.removeChild(textarea);\r\n\r\n      setTimeout(() => setCopyMessage(null), 3000);\r\n    }\r\n  };\r\n\r\n  const toggleExpand = (index) => {\r\n    setExpandedRow(expandedRow === index ? null : index);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 dark:bg-gray-900 p-8 flex flex-col items-center font-sans text-gray-800 dark:text-gray-200\">\r\n      <style>{`\r\n        body { font-family: 'Inter', sans-serif; }\r\n        tr.expanded-row td { background-color: #f3f4f6; border-top: 1px solid #e5e7eb; border-bottom: 1px solid #e5e7eb; }\r\n        .dark tr.expanded-row td { background-color: #1f2937; border-top: 1px solid #374151; border-bottom: 1px solid #374151; }\r\n      `}</style>\r\n\r\n      <div className=\"w-full max-w-6xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 transition-colors duration-300\">\r\n        <h1 className=\"text-4xl font-extrabold text-center text-indigo-600 dark:text-indigo-400 mb-2\">\r\n          Análisis de Datos Proteómicos\r\n        </h1>\r\n        <p className=\"text-center text-base mb-8 text-gray-600 dark:text-gray-400\">\r\n          Carga tus archivos de péptidos y proteínas para un análisis unificado.\r\n        </p>\r\n\r\n        {/* Controles superiores */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Área mínima</label>\r\n            <input\r\n              type=\"number\"\r\n              value={minArea}\r\n              onChange={(e) => setMinArea(Number(e.target.value))}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\"\r\n              placeholder=\"0\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\"># Péptidos mínimo</label>\r\n            <input\r\n              type=\"number\"\r\n              value={minPeptides}\r\n              onChange={(e) => setMinPeptides(Number(e.target.value))}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\"\r\n              placeholder=\"0\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\"># Únicos mínimo</label>\r\n            <input\r\n              type=\"number\"\r\n              value={minUniquePeptides}\r\n              onChange={(e) => setMinUniquePeptides(Number(e.target.value))}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\"\r\n              placeholder=\"0\"\r\n            />\r\n          </div>\r\n          <div className=\"md:col-span-2 lg:col-span-3\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">IDs canónicos (separados por coma)</label>\r\n            <input\r\n              type=\"text\"\r\n              value={canonicalIds}\r\n              onChange={(e) => setCanonicalIds(e.target.value)}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\"\r\n              placeholder=\"P01234, Q9XXXX, ...\"\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <input id=\"pathogenic\" type=\"checkbox\" checked={filterPathogenic} onChange={(e) => setFilterPathogenic(e.target.checked)} />\r\n            <label htmlFor=\"pathogenic\" className=\"text-sm text-gray-700 dark:text-gray-300\">Filtrar variantes patogénicas</label>\r\n          </div>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <input type=\"file\" onChange={handleIdFileChange} className=\"text-sm\" />\r\n            <button onClick={handleLoadIdsFromFile} className=\"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\">Cargar IDs</button>\r\n          </div>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <button onClick={addSampleInput} className=\"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700\">Añadir muestra</button>\r\n            <button onClick={handleCopyTable} className=\"px-3 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-800\">Copiar tabla</button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sección de carga por muestra */}\r\n        <div className=\"space-y-6 mb-8\">\r\n          {sampleInputs.map((sample) => (\r\n            <div\r\n              key={sample.id}\r\n              className=\"bg-gray-50 dark:bg-gray-700 p-6 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col md:flex-row items-start md:items-center justify-between transition-colors duration-300\"\r\n              onDragEnter={handleDragEnter}\r\n              onDragLeave={handleDragLeave}\r\n              onDragOver={(e) => e.preventDefault()}\r\n              onDrop={(e) => handleDrop(e, sample.id)}\r\n            >\r\n              <div className=\"flex-1 w-full md:pr-4\">\r\n                <div className=\"mb-4\">\r\n                  <h3 className=\"text-xl font-bold text-gray-700 dark:text-gray-300\">Muestra {sample.id}</h3>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Arrastra y suelta tus archivos aquí, o haz clic para seleccionarlos.</p>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor={`sample-name-${sample.id}`} className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Nombre de la Muestra:</label>\r\n                  <input\r\n                    id={`sample-name-${sample.id}`}\r\n                    type=\"text\"\r\n                    value={sample.name}\r\n                    onChange={(e) => handleNameChange(e, sample.id)}\r\n                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 p-2\"\r\n                    placeholder={`Muestra ${sample.id}`}\r\n                  />\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Archivo de Péptidos:</label>\r\n                    <input\r\n                      type=\"file\"\r\n                      className=\"mt-1 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100\"\r\n                      onChange={(e) => handleFileChange(e, sample.id, 'peptides')}\r\n                    />\r\n                    {sample.files.peptides && (\r\n                      <p className=\"text-xs text-green-500 mt-1\">Cargado: {sample.files.peptides.name}</p>\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Archivo de Proteínas:</label>\r\n                    <input\r\n                      type=\"file\"\r\n                      className=\"mt-1 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100\"\r\n                      onChange={(e) => handleFileChange(e, sample.id, 'proteins')}\r\n                    />\r\n                    {sample.files.proteins && (\r\n                      <p className=\"text-xs text-green-500 mt-1\">Cargado: {sample.files.proteins.name}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {sampleInputs.length > 1 && (\r\n                <button\r\n                  onClick={() => removeSampleInput(sample.id)}\r\n                  className=\"mt-4 md:mt-0 md:ml-4 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200\"\r\n                  aria-label={`Eliminar muestra ${sample.id}`}\r\n                  title={`Eliminar muestra ${sample.id}`}\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"none\" className=\"h-5 w-5\">\r\n                    <path d=\"M6 6l8 8M14 6l-8 8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                  </svg>\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Estado / feedback */}\r\n        {error && (\r\n          <div className=\"mb-4 p-3 rounded-md bg-red-100 text-red-800 border border-red-300\">{error}</div>\r\n        )}\r\n        {loading && (\r\n          <div className=\"mb-4 p-3 rounded-md bg-yellow-100 text-yellow-800 border border-yellow-300\">Procesando…</div>\r\n        )}\r\n        {copyMessage && (\r\n          <div\r\n            className={`mb-4 p-3 rounded-md border ${copyMessage.isError ? 'bg-red-100 text-red-800 border-red-300' : 'bg-green-100 text-green-800 border-green-300'}`}\r\n          >\r\n            {copyMessage.message}\r\n          </div>\r\n        )}\r\n\r\n        {/* Tabla de resultados */}\r\n        <div className=\"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700\">\r\n          <table id=\"protein-table\" className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n              <tr>\r\n                <th className=\"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\">Accession</th>\r\n                <th className=\"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\">Descripción</th>\r\n                <th className=\"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\">Grupo</th>\r\n                <th className=\"px-4 py-2 text-right text-xs font-medium uppercase tracking-wider\">Área</th>\r\n                <th className=\"px-4 py-2 text-right text-xs font-medium uppercase tracking-wider\"># Péptidos</th>\r\n                <th className=\"px-4 py-2 text-right text-xs font-medium uppercase tracking-wider\"># Únicos</th>\r\n                <th className=\"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\">Muestra</th>\r\n                <th className=\"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider\">Asociación</th>\r\n                <th className=\"px-4 py-2 text-center text-xs font-medium uppercase tracking-wider\">Péptidos únicos</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n              {processedData.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={9} className=\"px-4 py-6 text-center text-gray-500 dark:text-gray-400\">\r\n                    No hay datos para mostrar. Carga archivos y ajusta filtros.\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                processedData.map((row, idx) => (\r\n                  <>\r\n                    <tr key={`row-${idx}`} className=\"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer\" onClick={() => toggleExpand(idx)}>\r\n                      <td className=\"px-4 py-2 font-mono text-sm\">{row.accession}</td>\r\n                      <td className=\"px-4 py-2\">{row.description}</td>\r\n                      <td className=\"px-4 py-2\">{row.proteinGroup}</td>\r\n                      <td className=\"px-4 py-2 text-right\">{row.area.toLocaleString()}</td>\r\n                      <td className=\"px-4 py-2 text-right\">{row.totalPeptides}</td>\r\n                      <td className=\"px-4 py-2 text-right\">{row.uniquePeptidesCount}</td>\r\n                      <td className=\"px-4 py-2\">{row.sampleName}</td>\r\n                      <td className=\"px-4 py-2\">{row.diseaseAssociation}</td>\r\n                      <td className=\"px-4 py-2 text-center\">\r\n                        <button className=\"px-2 py-1 text-xs rounded bg-indigo-600 text-white hover:bg-indigo-700\">\r\n                          {expandedRow === idx ? 'Ocultar' : 'Ver'}\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                    {expandedRow === idx && (\r\n                      <tr key={`row-details-${idx}`} className=\"expanded-row\">\r\n                        <td colSpan={9} className=\"px-6 py-4\">\r\n                          {row.uniquePeptides && row.uniquePeptides.length > 0 ? (\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\r\n                              {row.uniquePeptides.map((pep, i) => (\r\n                                <div key={`pep-${i}`} className=\"text-sm font-mono bg-gray-100 dark:bg-gray-900 rounded px-2 py-1 border border-gray-200 dark:border-gray-700\">\r\n                                  {pep}\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          ) : (\r\n                            <span className=\"text-sm text-gray-500\">Sin péptidos únicos asociados.</span>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;;AAEvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB;EACA,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,CAC/C;IAAEY,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,EAAE;IAAEC,cAAc,EAAE,cAAc;IAAEC,KAAK,EAAE;MAAEC,QAAQ,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAK;EAAE,CAAC,CAC/F,CAAC;EACF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,4BAA6B,EAAG,CAAC;EACpF,MAAM,CAACoB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACsB,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EACzC,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAAC4B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;EAC7D,MAAM,CAAC8B,YAAY,EAAEC,eAAe,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACgC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACkC,WAAW,EAAEC,cAAc,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACoC,WAAW,EAAEC,cAAc,CAAC,GAAGrC,QAAQ,CAAC,0BAA2B,IAAK,CAAC;EAChF,MAAM,CAACsC,MAAM,EAAEC,SAAS,CAAC,GAAGvC,QAAQ,CAAC,wBAAyB,IAAK,CAAC;;EAEpE;EACA,MAAMwC,WAAW,GAAGtC,MAAM,CAAC,CAAC,CAAC;;EAE7B;EACA,MAAMuC,iBAAiB,GAAG,6CAA6C;;EAEvE;EACA,MAAMC,QAAQ,GAAIC,IAAI,IAAK;IACzB,MAAMC,KAAK,GAAGD,IAAI,CAACE,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC;IACxC,IAAIF,KAAK,CAACG,MAAM,KAAK,CAAC,EAAE,OAAO,EAAE;IACjC,MAAMC,OAAO,GAAGJ,KAAK,CAAC,CAAC,CAAC,CAACE,KAAK,CAAC,IAAI,CAAC,CAACG,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACL,IAAI,CAAC,CAAC,CAAC;IACzD,OAAOD,KAAK,CAACO,KAAK,CAAC,CAAC,CAAC,CAACF,GAAG,CAAEG,IAAI,IAAK;MAClC,MAAMC,MAAM,GAAGD,IAAI,CAACN,KAAK,CAAC,IAAI,CAAC;MAC/B,OAAOE,OAAO,CAACM,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,EAAEC,CAAC,KAAK;QACxCF,GAAG,CAACC,MAAM,CAAC,GAAGH,MAAM,CAACI,CAAC,CAAC;QACvB,OAAOF,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMG,yBAAyB,GAAIC,WAAW,IAAK;IACjD,IAAI,CAACA,WAAW,EAAE,OAAO,KAAK;IAC9B,MAAMC,gBAAgB,GAAGD,WAAW,CAACE,KAAK,CAAC,qBAAqB,CAAC;IACjE,IAAID,gBAAgB,IAAIA,gBAAgB,CAAC,CAAC,CAAC,EAAE,OAAOA,gBAAgB,CAAC,CAAC,CAAC,CAACf,IAAI,CAAC,CAAC;IAC9E,MAAMiB,aAAa,GAAGH,WAAW,CAACE,KAAK,CAAC,8BAA8B,CAAC;IACvE,IAAIC,aAAa,IAAIA,aAAa,CAAC,CAAC,CAAC,EAAE,OAAOA,aAAa,CAAC,CAAC,CAAC,CAACjB,IAAI,CAAC,CAAC;IACrE,OAAO,KAAK;EACd,CAAC;;EAED;EACA,MAAMkB,WAAW,GAAG5D,WAAW,CAAC,YAAY;IAC1CoB,UAAU,CAAC,IAAI,CAAC;IAChBF,QAAQ,CAAC,EAAE,CAAC;IACZ;IACA,IAAI2C,mBAAmB,GAAG,EAAE;;IAE5B;IACA,MAAMC,iBAAiB,GAAG,IAAIC,GAAG,CAAC,CAAC;IAEnC,KAAK,MAAMC,MAAM,IAAIzD,YAAY,EAAE;MACjC;MACA,IAAIyD,MAAM,CAACpD,KAAK,CAACC,QAAQ,EAAE;QACzB,IAAI;UACF,MAAMoD,eAAe,GAAG,MAAMD,MAAM,CAACpD,KAAK,CAACC,QAAQ,CAAC2B,IAAI,CAAC,CAAC;UAC1D,MAAM0B,YAAY,GAAG3B,QAAQ,CAAC0B,eAAe,CAAC;UAC9CC,YAAY,CAACC,OAAO,CAAEC,OAAO,IAAK;YAChC,MAAMC,SAAS,GAAGD,OAAO,CAAC,mBAAmB,CAAC,IAAIA,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE;YAC7E,MAAME,UAAU,GAAGC,MAAM,CAACH,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC1B,IAAI,CAAC,CAAC;YACzD,MAAM8B,QAAQ,GAAG,mBAAmB,CAACC,IAAI,CAACH,UAAU,CAAC,IAAIA,UAAU,KAAK,GAAG;YAC3E,MAAMI,eAAe,GAAGN,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE;YAChD,IAAII,QAAQ,IAAIH,SAAS,IAAIK,eAAe,EAAE;cAC5C,IAAI,CAACZ,iBAAiB,CAACa,GAAG,CAACN,SAAS,CAAC,EAAEP,iBAAiB,CAACc,GAAG,CAACP,SAAS,EAAE,IAAIQ,GAAG,CAAC,CAAC,CAAC;cAClFf,iBAAiB,CAACgB,GAAG,CAACT,SAAS,CAAC,CAACU,GAAG,CAACL,eAAe,CAAC;YACvD;UACF,CAAC,CAAC;QACJ,CAAC,CAAC,OAAOM,GAAG,EAAE;UACZC,OAAO,CAAChE,KAAK,CAAC,2CAA2C,EAAE+D,GAAG,CAAC;QACjE;MACF;;MAEA;MACA,IAAIhB,MAAM,CAACpD,KAAK,CAACE,QAAQ,EAAE;QACzB,IAAI;UACF,MAAMoE,eAAe,GAAG,MAAMlB,MAAM,CAACpD,KAAK,CAACE,QAAQ,CAAC0B,IAAI,CAAC,CAAC;UAC1D,MAAM2C,WAAW,GAAG5C,QAAQ,CAAC2C,eAAe,CAAC;UAE7CC,WAAW,CAAChB,OAAO,CAAEiB,OAAO,IAAK;YAAA,IAAAC,gBAAA;YAC/B,MAAMhB,SAAS,GAAGe,OAAO,CAAC,WAAW,CAAC,IAAIA,OAAO,CAAC,mBAAmB,CAAC,IAAI,EAAE;YAC5E,MAAM5B,WAAW,GAAG4B,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE;YAChD,MAAME,YAAY,GAAGF,OAAO,CAAC,eAAe,CAAC,IAAI,EAAE;YACnD,MAAMG,OAAO,GAAGC,MAAM,CAACC,IAAI,CAACL,OAAO,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACtF,MAAMC,OAAO,GAAGP,OAAO,GAAGhB,MAAM,EAAAc,gBAAA,GAACD,OAAO,CAACG,OAAO,CAAC,cAAAF,gBAAA,cAAAA,gBAAA,GAAI,GAAG,CAAC,GAAG,GAAG;YAC/D,MAAMU,IAAI,GAAGC,UAAU,CAACF,OAAO,CAACG,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC;YACvD,MAAMC,aAAa,GAAGC,QAAQ,CAACf,OAAO,CAAC,WAAW,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;YAC7D,MAAMgB,mBAAmB,GAAGD,QAAQ,CAACf,OAAO,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;YACjE,MAAMiB,cAAc,GAAGC,KAAK,CAACC,IAAI,CAACzC,iBAAiB,CAACgB,GAAG,CAACT,SAAS,CAAC,IAAI,EAAE,CAAC;YACzE,MAAMmC,kBAAkB,GAAGjD,yBAAyB,CAACC,WAAW,CAAC;YAEjEK,mBAAmB,CAAC4C,IAAI,CAAC;cACvBpC,SAAS;cACTb,WAAW;cACX8B,YAAY;cACZS,IAAI;cACJG,aAAa;cACbE,mBAAmB;cACnBC,cAAc;cACdK,UAAU,EAAE1C,MAAM,CAACtD,IAAI,IAAI,WAAWsD,MAAM,CAACvD,EAAE,EAAE;cACjD+F;YACF,CAAC,CAAC;UACJ,CAAC,CAAC;QACJ,CAAC,CAAC,OAAOxB,GAAG,EAAE;UACZC,OAAO,CAAChE,KAAK,CAAC+D,GAAG,CAAC;UAClB9D,QAAQ,CAAC,sFAAsF,CAAC;UAChGE,UAAU,CAAC,KAAK,CAAC;UACjB;QACF;MACF;IACF;;IAEA;IACA,IAAIuF,YAAY,GAAG9C,mBAAmB;IAEtC,IAAIhC,gBAAgB,EAAE;MACpB8E,YAAY,GAAGA,YAAY,CAACC,MAAM,CAC/BxB,OAAO,IAAK9C,iBAAiB,CAACmC,IAAI,CAACW,OAAO,CAACf,SAAS,CAAC,IAAI/B,iBAAiB,CAACmC,IAAI,CAACW,OAAO,CAAC5B,WAAW,CACtG,CAAC;IACH;IAEA,IAAInC,OAAO,GAAG,CAAC,EAAEsF,YAAY,GAAGA,YAAY,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACd,IAAI,IAAI1E,OAAO,CAAC;IAC7E,IAAIE,WAAW,GAAG,CAAC,EAAEoF,YAAY,GAAGA,YAAY,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACX,aAAa,IAAI3E,WAAW,CAAC;IAC9F,IAAIE,iBAAiB,GAAG,CAAC,EAAEkF,YAAY,GAAGA,YAAY,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACT,mBAAmB,IAAI3E,iBAAiB,CAAC;IAEhH,IAAIE,YAAY,EAAE;MAChB,MAAMmF,MAAM,GAAGnF,YAAY,CACxBgB,KAAK,CAAC,GAAG,CAAC,CACVG,GAAG,CAAErC,EAAE,IAAKA,EAAE,CAACiC,IAAI,CAAC,CAAC,CAACkD,WAAW,CAAC,CAAC,CAAC,CACpCgB,MAAM,CAAEnG,EAAE,IAAKA,EAAE,KAAK,EAAE,CAAC;MAC5B,IAAIqG,MAAM,CAAClE,MAAM,EAAE;QACjB+D,YAAY,GAAGA,YAAY,CAACC,MAAM,CAAEC,CAAC,IACnCC,MAAM,CAACC,IAAI,CAAEtG,EAAE,IAAKoG,CAAC,CAACxC,SAAS,CAACuB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpF,EAAE,CAAC,IAAIoG,CAAC,CAACvB,YAAY,CAACM,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpF,EAAE,CAAC,CACzG,CAAC;MACH;IACF;IAEAO,gBAAgB,CAAC2F,YAAY,CAAC;IAC9BvF,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,EAAE,CAACb,YAAY,EAAEc,OAAO,EAAEE,WAAW,EAAEE,iBAAiB,EAAEE,YAAY,EAAEE,gBAAgB,CAAC,CAAC;EAE3F/B,SAAS,CAAC,MAAM;IACd8D,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;;EAEjB;EACA9D,SAAS,CAAC,MAAM;IACd,IAAIkH,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;IAC5C,IAAI;MACFjC,OAAO,CAACkC,KAAK,CAAC,iBAAiB,CAAC;MAChC,MAAMC,MAAM,GAAG7E,QAAQ,CAAC,YAAY,CAAC;MACrC0C,OAAO,CAACoC,MAAM,CAACf,KAAK,CAACgB,OAAO,CAACF,MAAM,CAAC,IAAIA,MAAM,CAACxE,MAAM,KAAK,CAAC,IAAIwE,MAAM,CAAC,CAAC,CAAC,CAACG,CAAC,KAAK,GAAG,IAAIH,MAAM,CAAC,CAAC,CAAC,CAACI,CAAC,KAAK,GAAG,EAAE,uBAAuB,CAAC;MACnIvC,OAAO,CAACoC,MAAM,CAAC/E,iBAAiB,CAACmC,IAAI,CAAC,cAAc,CAAC,EAAE,2BAA2B,CAAC;MACnFQ,OAAO,CAACoC,MAAM,CAAC/E,iBAAiB,CAACmC,IAAI,CAAC,sBAAsB,CAAC,EAAE,4BAA4B,CAAC;MAC5FQ,OAAO,CAACoC,MAAM,CAAC/E,iBAAiB,CAACmC,IAAI,CAAC,4BAA4B,CAAC,EAAE,yCAAyC,CAAC;MAC/GQ,OAAO,CAACwC,QAAQ,CAAC,CAAC;IACpB,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVzC,OAAO,CAAC0C,IAAI,CAAC,oBAAoB,EAAED,CAAC,CAAC;IACvC;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAME,gBAAgB,GAAGA,CAACF,CAAC,EAAEjH,EAAE,EAAEoH,IAAI,KAAK;IACxC,MAAMC,IAAI,GAAGJ,CAAC,CAACK,MAAM,CAACnH,KAAK,IAAI8G,CAAC,CAACK,MAAM,CAACnH,KAAK,CAAC,CAAC,CAAC;IAChD,IAAI,CAACkH,IAAI,EAAE;IACXtH,eAAe,CAAEwH,UAAU,IACzBA,UAAU,CAAClF,GAAG,CAAEmF,KAAK,IAAMA,KAAK,CAACxH,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGwH,KAAK;MAAErH,KAAK,EAAE;QAAE,GAAGqH,KAAK,CAACrH,KAAK;QAAE,CAACiH,IAAI,GAAGC;MAAK;IAAE,CAAC,GAAGG,KAAM,CAC7G,CAAC;EACH,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAACR,CAAC,EAAEjH,EAAE,KAAK;IAClC,MAAMC,IAAI,GAAGgH,CAAC,CAACK,MAAM,CAACI,KAAK;IAC3B3H,eAAe,CAAEwH,UAAU,IAAKA,UAAU,CAAClF,GAAG,CAAEmF,KAAK,IAAMA,KAAK,CAACxH,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGwH,KAAK;MAAEvH;IAAK,CAAC,GAAGuH,KAAM,CAAC,CAAC;EAC5G,CAAC;EAED,MAAMG,kBAAkB,GAAIV,CAAC,IAAK;IAChC,MAAMW,CAAC,GAAGX,CAAC,CAACK,MAAM,CAACnH,KAAK,IAAI8G,CAAC,CAACK,MAAM,CAACnH,KAAK,CAAC,CAAC,CAAC;IAC7C,IAAIyH,CAAC,EAAEjG,SAAS,CAACiG,CAAC,CAAC;EACrB,CAAC;EAED,MAAMC,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACxC,IAAI,CAACnG,MAAM,EAAE;MACXjB,QAAQ,CAAC,kDAAkD,CAAC;MAC5D;IACF;IAEA,IAAI;MACFE,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMmH,WAAW,GAAG,MAAMpG,MAAM,CAACK,IAAI,CAAC,CAAC;MACvC,MAAMgG,KAAK,GAAG,cAAc,CAAC,CAAC;MAC9B,MAAMC,OAAO,GAAG,CAAC,GAAGF,WAAW,CAACG,QAAQ,CAACF,KAAK,CAAC,CAAC;MAChD,MAAMG,GAAG,GAAGF,OAAO,CAAC3F,GAAG,CAAEY,KAAK,IAAKA,KAAK,CAAC,CAAC,CAAC,CAAC,CAACkF,IAAI,CAAC,IAAI,CAAC;MACvDhH,eAAe,CAAC+G,GAAG,CAAC;MACpBvH,UAAU,CAAC,KAAK,CAAC;MACjBF,QAAQ,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,OAAO8D,GAAG,EAAE;MACZ9D,QAAQ,CAAC,4EAA4E,CAAC;MACtFE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMyH,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMC,KAAK,GAAGvI,YAAY,CAACqC,MAAM,GAAGmG,IAAI,CAACC,GAAG,CAAC,GAAGzI,YAAY,CAACuC,GAAG,CAAEmG,CAAC,IAAKA,CAAC,CAACxI,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;IACtFD,eAAe,CAAEwH,UAAU,IAAK,CAC9B,GAAGA,UAAU,EACb;MAAEvH,EAAE,EAAEqI,KAAK;MAAEpI,IAAI,EAAE,EAAE;MAAEC,cAAc,EAAE,cAAc;MAAEC,KAAK,EAAE;QAAEC,QAAQ,EAAE,IAAI;QAAEC,QAAQ,EAAE;MAAK;IAAE,CAAC,CACnG,CAAC;EACJ,CAAC;EAED,MAAMoI,iBAAiB,GAAIzI,EAAE,IAAK;IAChCD,eAAe,CAAEwH,UAAU,IAAKA,UAAU,CAACpB,MAAM,CAAEqB,KAAK,IAAKA,KAAK,CAACxH,EAAE,KAAKA,EAAE,CAAC,CAAC;EAChF,CAAC;EAED,MAAM0I,eAAe,GAAIzB,CAAC,IAAK;IAC7BA,CAAC,CAAC0B,cAAc,CAAC,CAAC;IAClB1B,CAAC,CAAC2B,eAAe,CAAC,CAAC;IACnBhH,WAAW,CAACiH,OAAO,EAAE;EACvB,CAAC;EAED,MAAMC,eAAe,GAAI7B,CAAC,IAAK;IAC7BA,CAAC,CAAC2B,eAAe,CAAC,CAAC;IACnBhH,WAAW,CAACiH,OAAO,EAAE;EACvB,CAAC;EAED,MAAME,UAAU,GAAGA,CAAC9B,CAAC,EAAEjH,EAAE,KAAK;IAC5BiH,CAAC,CAAC0B,cAAc,CAAC,CAAC;IAClB1B,CAAC,CAAC2B,eAAe,CAAC,CAAC;IACnBhH,WAAW,CAACiH,OAAO,GAAG,CAAC;IAEvB,MAAM1I,KAAK,GAAG0F,KAAK,CAACC,IAAI,CAACmB,CAAC,CAAC+B,YAAY,CAAC7I,KAAK,IAAI,EAAE,CAAC;IAEpD,IAAIA,KAAK,CAACgC,MAAM,GAAG,CAAC,EAAE;MACpB,MAAM8G,YAAY,GAAG9I,KAAK,CAAC8E,IAAI,CAAEoC,IAAI,IAAKA,IAAI,CAACpH,IAAI,CAACkF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,UAAU,CAAC,CAAC;MACvF,MAAM8D,YAAY,GAAG/I,KAAK,CAAC8E,IAAI,CAAEoC,IAAI,IAAKA,IAAI,CAACpH,IAAI,CAACkF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,UAAU,CAAC,CAAC;MAEvFrF,eAAe,CAAEwH,UAAU,IACzBA,UAAU,CAAClF,GAAG,CAAEmF,KAAK,IACnBA,KAAK,CAACxH,EAAE,KAAKA,EAAE,GACX;QACE,GAAGwH,KAAK;QACRrH,KAAK,EAAE;UACLC,QAAQ,EAAE6I,YAAY,IAAIzB,KAAK,CAACrH,KAAK,CAACC,QAAQ;UAC9CC,QAAQ,EAAE6I,YAAY,IAAI1B,KAAK,CAACrH,KAAK,CAACE;QACxC;MACF,CAAC,GACDmH,KACN,CACF,CAAC;IACH;EACF,CAAC;EAED,MAAM2B,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;IACtD,IAAIF,KAAK,EAAE;MACT,IAAIrH,IAAI,GAAG,EAAE;MACb,MAAMwH,IAAI,GAAGH,KAAK,CAACI,gBAAgB,CAAC,IAAI,CAAC;MACzCD,IAAI,CAAC7F,OAAO,CAAE+F,GAAG,IAAK;QACpB,MAAMC,KAAK,GAAGD,GAAG,CAACD,gBAAgB,CAAC,QAAQ,CAAC;QAC5CE,KAAK,CAAChG,OAAO,CAAC,CAACiG,IAAI,EAAEC,KAAK,KAAK;UAC7B7H,IAAI,IAAI4H,IAAI,CAACE,SAAS,IAAID,KAAK,GAAGF,KAAK,CAACvH,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;QACjE,CAAC,CAAC;QACFJ,IAAI,IAAI,IAAI;MACd,CAAC,CAAC;MAEF,MAAM+H,QAAQ,GAAGT,QAAQ,CAACU,aAAa,CAAC,UAAU,CAAC;MACnDD,QAAQ,CAACpC,KAAK,GAAG3F,IAAI;MACrBsH,QAAQ,CAACW,IAAI,CAACC,WAAW,CAACH,QAAQ,CAAC;MACnCA,QAAQ,CAACI,MAAM,CAAC,CAAC;MACjB,IAAI;QACFb,QAAQ,CAACc,WAAW,CAAC,MAAM,CAAC;QAC5B5I,cAAc,CAAC;UAAE6I,OAAO,EAAE,iCAAiC;UAAEC,OAAO,EAAE;QAAM,CAAC,CAAC;MAChF,CAAC,CAAC,OAAO9F,GAAG,EAAE;QACZhD,cAAc,CAAC;UAAE6I,OAAO,EAAE,2BAA2B;UAAEC,OAAO,EAAE;QAAK,CAAC,CAAC;MACzE;MACAhB,QAAQ,CAACW,IAAI,CAACM,WAAW,CAACR,QAAQ,CAAC;MAEnCS,UAAU,CAAC,MAAMhJ,cAAc,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;IAC9C;EACF,CAAC;EAED,MAAMiJ,YAAY,GAAIZ,KAAK,IAAK;IAC9BnI,cAAc,CAACD,WAAW,KAAKoI,KAAK,GAAG,IAAI,GAAGA,KAAK,CAAC;EACtD,CAAC;EAED,oBACEnK,OAAA;IAAKgL,SAAS,EAAC,qHAAqH;IAAAC,QAAA,gBAClIjL,OAAA;MAAAiL,QAAA,EAAQ;AACd;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEVrL,OAAA;MAAKgL,SAAS,EAAC,qGAAqG;MAAAC,QAAA,gBAClHjL,OAAA;QAAIgL,SAAS,EAAC,+EAA+E;QAAAC,QAAA,EAAC;MAE9F;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACLrL,OAAA;QAAGgL,SAAS,EAAC,6DAA6D;QAAAC,QAAA,EAAC;MAE3E;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAGJrL,OAAA;QAAKgL,SAAS,EAAC,2DAA2D;QAAAC,QAAA,gBACxEjL,OAAA;UAAAiL,QAAA,gBACEjL,OAAA;YAAOgL,SAAS,EAAC,4DAA4D;YAAAC,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjGrL,OAAA;YACE2H,IAAI,EAAC,QAAQ;YACbM,KAAK,EAAE9G,OAAQ;YACfmK,QAAQ,EAAG9D,CAAC,IAAKpG,UAAU,CAACmK,MAAM,CAAC/D,CAAC,CAACK,MAAM,CAACI,KAAK,CAAC,CAAE;YACpD+C,SAAS,EAAC,oMAAoM;YAC9MQ,WAAW,EAAC;UAAG;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNrL,OAAA;UAAAiL,QAAA,gBACEjL,OAAA;YAAOgL,SAAS,EAAC,4DAA4D;YAAAC,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvGrL,OAAA;YACE2H,IAAI,EAAC,QAAQ;YACbM,KAAK,EAAE5G,WAAY;YACnBiK,QAAQ,EAAG9D,CAAC,IAAKlG,cAAc,CAACiK,MAAM,CAAC/D,CAAC,CAACK,MAAM,CAACI,KAAK,CAAC,CAAE;YACxD+C,SAAS,EAAC,oMAAoM;YAC9MQ,WAAW,EAAC;UAAG;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNrL,OAAA;UAAAiL,QAAA,gBACEjL,OAAA;YAAOgL,SAAS,EAAC,4DAA4D;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrGrL,OAAA;YACE2H,IAAI,EAAC,QAAQ;YACbM,KAAK,EAAE1G,iBAAkB;YACzB+J,QAAQ,EAAG9D,CAAC,IAAKhG,oBAAoB,CAAC+J,MAAM,CAAC/D,CAAC,CAACK,MAAM,CAACI,KAAK,CAAC,CAAE;YAC9D+C,SAAS,EAAC,oMAAoM;YAC9MQ,WAAW,EAAC;UAAG;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNrL,OAAA;UAAKgL,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1CjL,OAAA;YAAOgL,SAAS,EAAC,4DAA4D;YAAAC,QAAA,EAAC;UAAkC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxHrL,OAAA;YACE2H,IAAI,EAAC,MAAM;YACXM,KAAK,EAAExG,YAAa;YACpB6J,QAAQ,EAAG9D,CAAC,IAAK9F,eAAe,CAAC8F,CAAC,CAACK,MAAM,CAACI,KAAK,CAAE;YACjD+C,SAAS,EAAC,oMAAoM;YAC9MQ,WAAW,EAAC;UAAqB;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNrL,OAAA;UAAKgL,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1CjL,OAAA;YAAOO,EAAE,EAAC,YAAY;YAACoH,IAAI,EAAC,UAAU;YAAC8D,OAAO,EAAE9J,gBAAiB;YAAC2J,QAAQ,EAAG9D,CAAC,IAAK5F,mBAAmB,CAAC4F,CAAC,CAACK,MAAM,CAAC4D,OAAO;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC5HrL,OAAA;YAAO0L,OAAO,EAAC,YAAY;YAACV,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAA6B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnH,CAAC,eACNrL,OAAA;UAAKgL,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1CjL,OAAA;YAAO2H,IAAI,EAAC,MAAM;YAAC2D,QAAQ,EAAEpD,kBAAmB;YAAC8C,SAAS,EAAC;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACvErL,OAAA;YAAQ2L,OAAO,EAAEvD,qBAAsB;YAAC4C,SAAS,EAAC,mEAAmE;YAAAC,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtI,CAAC,eACNrL,OAAA;UAAKgL,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1CjL,OAAA;YAAQ2L,OAAO,EAAEhD,cAAe;YAACqC,SAAS,EAAC,qEAAqE;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxIrL,OAAA;YAAQ2L,OAAO,EAAEjC,eAAgB;YAACsB,SAAS,EAAC,+DAA+D;YAAAC,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9H,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNrL,OAAA;QAAKgL,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAC5B5K,YAAY,CAACuC,GAAG,CAAEkB,MAAM,iBACvB9D,OAAA;UAEEgL,SAAS,EAAC,6MAA6M;UACvNY,WAAW,EAAE3C,eAAgB;UAC7B4C,WAAW,EAAExC,eAAgB;UAC7ByC,UAAU,EAAGtE,CAAC,IAAKA,CAAC,CAAC0B,cAAc,CAAC,CAAE;UACtC6C,MAAM,EAAGvE,CAAC,IAAK8B,UAAU,CAAC9B,CAAC,EAAE1D,MAAM,CAACvD,EAAE,CAAE;UAAA0K,QAAA,gBAExCjL,OAAA;YAAKgL,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBACpCjL,OAAA;cAAKgL,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBjL,OAAA;gBAAIgL,SAAS,EAAC,oDAAoD;gBAAAC,QAAA,GAAC,UAAQ,EAACnH,MAAM,CAACvD,EAAE;cAAA;gBAAA2K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3FrL,OAAA;gBAAGgL,SAAS,EAAC,+CAA+C;gBAAAC,QAAA,EAAC;cAAoE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClI,CAAC,eACNrL,OAAA;cAAKgL,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBjL,OAAA;gBAAO0L,OAAO,EAAE,eAAe5H,MAAM,CAACvD,EAAE,EAAG;gBAACyK,SAAS,EAAC,4DAA4D;gBAAAC,QAAA,EAAC;cAAqB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChJrL,OAAA;gBACEO,EAAE,EAAE,eAAeuD,MAAM,CAACvD,EAAE,EAAG;gBAC/BoH,IAAI,EAAC,MAAM;gBACXM,KAAK,EAAEnE,MAAM,CAACtD,IAAK;gBACnB8K,QAAQ,EAAG9D,CAAC,IAAKQ,gBAAgB,CAACR,CAAC,EAAE1D,MAAM,CAACvD,EAAE,CAAE;gBAChDyK,SAAS,EAAC,oMAAoM;gBAC9MQ,WAAW,EAAE,WAAW1H,MAAM,CAACvD,EAAE;cAAG;gBAAA2K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNrL,OAAA;cAAKgL,SAAS,EAAC,uCAAuC;cAAAC,QAAA,gBACpDjL,OAAA;gBAAAiL,QAAA,gBACEjL,OAAA;kBAAOgL,SAAS,EAAC,4DAA4D;kBAAAC,QAAA,EAAC;gBAAoB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC1GrL,OAAA;kBACE2H,IAAI,EAAC,MAAM;kBACXqD,SAAS,EAAC,iMAAiM;kBAC3MM,QAAQ,EAAG9D,CAAC,IAAKE,gBAAgB,CAACF,CAAC,EAAE1D,MAAM,CAACvD,EAAE,EAAE,UAAU;gBAAE;kBAAA2K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7D,CAAC,EACDvH,MAAM,CAACpD,KAAK,CAACC,QAAQ,iBACpBX,OAAA;kBAAGgL,SAAS,EAAC,6BAA6B;kBAAAC,QAAA,GAAC,WAAS,EAACnH,MAAM,CAACpD,KAAK,CAACC,QAAQ,CAACH,IAAI;gBAAA;kBAAA0K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CACpF;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eACNrL,OAAA;gBAAAiL,QAAA,gBACEjL,OAAA;kBAAOgL,SAAS,EAAC,4DAA4D;kBAAAC,QAAA,EAAC;gBAAqB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC3GrL,OAAA;kBACE2H,IAAI,EAAC,MAAM;kBACXqD,SAAS,EAAC,iMAAiM;kBAC3MM,QAAQ,EAAG9D,CAAC,IAAKE,gBAAgB,CAACF,CAAC,EAAE1D,MAAM,CAACvD,EAAE,EAAE,UAAU;gBAAE;kBAAA2K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7D,CAAC,EACDvH,MAAM,CAACpD,KAAK,CAACE,QAAQ,iBACpBZ,OAAA;kBAAGgL,SAAS,EAAC,6BAA6B;kBAAAC,QAAA,GAAC,WAAS,EAACnH,MAAM,CAACpD,KAAK,CAACE,QAAQ,CAACJ,IAAI;gBAAA;kBAAA0K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CACpF;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAELhL,YAAY,CAACqC,MAAM,GAAG,CAAC,iBACtB1C,OAAA;YACE2L,OAAO,EAAEA,CAAA,KAAM3C,iBAAiB,CAAClF,MAAM,CAACvD,EAAE,CAAE;YAC5CyK,SAAS,EAAC,6GAA6G;YACvH,cAAY,oBAAoBlH,MAAM,CAACvD,EAAE,EAAG;YAC5CyL,KAAK,EAAE,oBAAoBlI,MAAM,CAACvD,EAAE,EAAG;YAAA0K,QAAA,eAEvCjL,OAAA;cAAKiM,KAAK,EAAC,4BAA4B;cAACC,OAAO,EAAC,WAAW;cAACC,IAAI,EAAC,MAAM;cAACnB,SAAS,EAAC,SAAS;cAAAC,QAAA,eACzFjL,OAAA;gBAAM2G,CAAC,EAAC,oBAAoB;gBAACyF,MAAM,EAAC,cAAc;gBAACC,WAAW,EAAC,GAAG;gBAACC,aAAa,EAAC,OAAO;gBAACC,cAAc,EAAC;cAAO;gBAAArB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/G;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CACT;QAAA,GA5DIvH,MAAM,CAACvD,EAAE;UAAA2K,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA6DX,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAGLtK,KAAK,iBACJf,OAAA;QAAKgL,SAAS,EAAC,mEAAmE;QAAAC,QAAA,EAAElK;MAAK;QAAAmK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAChG,EACApK,OAAO,iBACNjB,OAAA;QAAKgL,SAAS,EAAC,4EAA4E;QAAAC,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAC7G,EACAxJ,WAAW,iBACV7B,OAAA;QACEgL,SAAS,EAAE,8BAA8BnJ,WAAW,CAAC+I,OAAO,GAAG,wCAAwC,GAAG,8CAA8C,EAAG;QAAAK,QAAA,EAE1JpJ,WAAW,CAAC8I;MAAO;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjB,CACN,eAGDrL,OAAA;QAAKgL,SAAS,EAAC,wEAAwE;QAAAC,QAAA,eACrFjL,OAAA;UAAOO,EAAE,EAAC,eAAe;UAACyK,SAAS,EAAC,0DAA0D;UAAAC,QAAA,gBAC5FjL,OAAA;YAAOgL,SAAS,EAAC,6BAA6B;YAAAC,QAAA,eAC5CjL,OAAA;cAAAiL,QAAA,gBACEjL,OAAA;gBAAIgL,SAAS,EAAC,kEAAkE;gBAAAC,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/FrL,OAAA;gBAAIgL,SAAS,EAAC,kEAAkE;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjGrL,OAAA;gBAAIgL,SAAS,EAAC,kEAAkE;gBAAAC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3FrL,OAAA;gBAAIgL,SAAS,EAAC,mEAAmE;gBAAAC,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3FrL,OAAA;gBAAIgL,SAAS,EAAC,mEAAmE;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjGrL,OAAA;gBAAIgL,SAAS,EAAC,mEAAmE;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/FrL,OAAA;gBAAIgL,SAAS,EAAC,kEAAkE;gBAAAC,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7FrL,OAAA;gBAAIgL,SAAS,EAAC,kEAAkE;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChGrL,OAAA;gBAAIgL,SAAS,EAAC,oEAAoE;gBAAAC,QAAA,EAAC;cAAe;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRrL,OAAA;YAAOgL,SAAS,EAAC,yEAAyE;YAAAC,QAAA,EACvFpK,aAAa,CAAC6B,MAAM,KAAK,CAAC,gBACzB1C,OAAA;cAAAiL,QAAA,eACEjL,OAAA;gBAAIwM,OAAO,EAAE,CAAE;gBAACxB,SAAS,EAAC,wDAAwD;gBAAAC,QAAA,EAAC;cAEnF;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,GAELxK,aAAa,CAAC+B,GAAG,CAAC,CAACoH,GAAG,EAAEyC,GAAG,kBACzBzM,OAAA,CAAAE,SAAA;cAAA+K,QAAA,gBACEjL,OAAA;gBAAuBgL,SAAS,EAAC,wDAAwD;gBAACW,OAAO,EAAEA,CAAA,KAAMZ,YAAY,CAAC0B,GAAG,CAAE;gBAAAxB,QAAA,gBACzHjL,OAAA;kBAAIgL,SAAS,EAAC,6BAA6B;kBAAAC,QAAA,EAAEjB,GAAG,CAAC7F;gBAAS;kBAAA+G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAChErL,OAAA;kBAAIgL,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAEjB,GAAG,CAAC1G;gBAAW;kBAAA4H,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAChDrL,OAAA;kBAAIgL,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAEjB,GAAG,CAAC5E;gBAAY;kBAAA8F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACjDrL,OAAA;kBAAIgL,SAAS,EAAC,sBAAsB;kBAAAC,QAAA,EAAEjB,GAAG,CAACnE,IAAI,CAAC6G,cAAc,CAAC;gBAAC;kBAAAxB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACrErL,OAAA;kBAAIgL,SAAS,EAAC,sBAAsB;kBAAAC,QAAA,EAAEjB,GAAG,CAAChE;gBAAa;kBAAAkF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC7DrL,OAAA;kBAAIgL,SAAS,EAAC,sBAAsB;kBAAAC,QAAA,EAAEjB,GAAG,CAAC9D;gBAAmB;kBAAAgF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACnErL,OAAA;kBAAIgL,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAEjB,GAAG,CAACxD;gBAAU;kBAAA0E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC/CrL,OAAA;kBAAIgL,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAEjB,GAAG,CAAC1D;gBAAkB;kBAAA4E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACvDrL,OAAA;kBAAIgL,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,eACnCjL,OAAA;oBAAQgL,SAAS,EAAC,wEAAwE;oBAAAC,QAAA,EACvFlJ,WAAW,KAAK0K,GAAG,GAAG,SAAS,GAAG;kBAAK;oBAAAvB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACP,CAAC;cAAA,GAbE,OAAOoB,GAAG,EAAE;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAcjB,CAAC,EACJtJ,WAAW,KAAK0K,GAAG,iBAClBzM,OAAA;gBAA+BgL,SAAS,EAAC,cAAc;gBAAAC,QAAA,eACrDjL,OAAA;kBAAIwM,OAAO,EAAE,CAAE;kBAACxB,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAClCjB,GAAG,CAAC7D,cAAc,IAAI6D,GAAG,CAAC7D,cAAc,CAACzD,MAAM,GAAG,CAAC,gBAClD1C,OAAA;oBAAKgL,SAAS,EAAC,sDAAsD;oBAAAC,QAAA,EAClEjB,GAAG,CAAC7D,cAAc,CAACvD,GAAG,CAAC,CAAC+J,GAAG,EAAEvJ,CAAC,kBAC7BpD,OAAA;sBAAsBgL,SAAS,EAAC,8GAA8G;sBAAAC,QAAA,EAC3I0B;oBAAG,GADI,OAAOvJ,CAAC,EAAE;sBAAA8H,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAEf,CACN;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC,gBAENrL,OAAA;oBAAMgL,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,EAAC;kBAA8B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAC7E;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC;cAAC,GAbE,eAAeoB,GAAG,EAAE;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAczB,CACL;YAAA,eACD,CACH;UACF;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACjL,EAAA,CAhgBID,GAAG;AAAAyM,EAAA,GAAHzM,GAAG;AAkgBT,eAAeA,GAAG;AAAC,IAAAyM,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}